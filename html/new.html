
<!DOCTYPE html>
  
<html>
<head>
<meta  charset="UTF-8"  content="width=device-width, height=device-height, initial-scale=1.0" name="viewport">
<title>New Albums on MA</title>
<script src="jquery.min.js">  </script>
<script type="text/javascript" language="javascript" src="jquery.dataTables.min.js"></script>
<script>

 let today = new Date(); 
today. setHours(new Date().getUTCHours()- 25);
console.log(today);
function laytouFunction() {
  if (($( window ).width() )< 800 ) {
    $( "td img" ).css( "width", ($('body' ).width())*.6 );
    $( "th,td" ).css( "display","grid" );
    $( "th,td:not(:nth-child(1))" ).css( "justify-items","center" );
    $( "th:not(:nth-of-type(3))" ).css( "display", "none" );
    $( "th:nth-of-type(3)" ).css( "color", "white" );
    $( "th,td" ).wrap( "<div class='new'></div>");
    $( ".new>td" ).css( "padding",'8px');
    $( "tr" ).css( "border-bottom",'2px solid #666');
    $( "td" ).css( "border-top",'2px solid rgba(66,66,66,0.4)');
  } else {
  }
}
$(function(){
  $("#includedContent").load("release.html" , function(){
	$('.release_info').DataTable( {
	"order": [[ 9, "asc" ]],
	"lengthMenu": [50,100, 200, 400, "All"],
	"columnDefs": [
        { "targets": [ 0,1 ], "searchable": false, "sorting": false }
	],
	"search": { "regex": true},
	"autoWidth": false
});
  $('.release_info').css('width', $('body' ).width());
  $(".dataTables_filter label input").attr("placeholder", "Search for albums or bands..");
  let table = $('.release_info').DataTable();
  $('.filter').change( function() {
  table.draw(); 
  laytouFunction();
  });
  laytouFunction();
});
  $("#about").click(function(){
  $("#project").toggleClass("hideItem");
});
  $('#Upcoming').attr("checked", true)
  $("body").css("background-color", "#333");
  $("body").css("color", "#fcfaf1");
});
$.fn.dataTable.ext.search.push(
    function( settings, data, dataIndex ) {
        let genre =  data[5].toLowerCase(); 
        let type =  data[6]; 
        let date =  new Date(data[9].replace(/-/g,'/'));
        let version =  data[10]; 
        if ( ($('#Blackdeath').is(':checked') && genre.indexOf('black') < 0  && genre.indexOf('death') < 0 ) || ($('#Fulllength').is(':checked') && type.indexOf('Full') < 0 ) || ($('#Upcoming').is(':checked') && date < today ) || ($('#Reissue').is(':checked') && version.indexOf('NA') < 0 ))
        {return false;}
        return true;
    }
);
$(window).resize(function() {
  $('.release_info').css('width', $('body' ).width());
  $(".dataTables_filter label input").css("width", $('body' ).width());
  laytouFunction();
})
window.onscroll = (function() {
   if ($('body').scrollTop() > 300 || $(window).scrollTop() > 300) {
  $("#header").css("font-size", "32px");
  $(".dataTables_filter label input").css("position", "fixed");
  $(".dataTables_filter label input").css("width", $('body' ).width());
  
} else {
    $("#header").css("fontSize", "40px");
    $(".dataTables_filter label input").css("position", "");
  }
 });
</script> 
 </head>
<body> 
<h1 class="glow" id="header">New albums on MA &nbsp;</h1>
<h3>All data from <a href="https://www.metal-archives.com/">THE Metal Archives</a>, with more album info included and duplicates filtered out. </h3>
<p>Web page genereated with <a href="https://www.r-project.org/">R</a></p>
<div>About <b id ='about'>CheckingOutShitonMA</b> project</div>
<div id ='project' class='hideItem'>
<p><i>CheckingOutShitonMA</i> is a project by hel_leen, who is known for the most frostbitten music taste among social scientist wannabes. <p></p>She created the project mainly for herself, after spending years rummaging through every deepest corner of frostbitten genres searching for promising bands and albums, despite an increasing frustration since the task of selection is rendered extremely difficult by the superabundance of materials endowed by contemporary basement musicians. </p><p>She's glad to share if this helps in any way. </p></div>
<p><b>NOTE:</b></br> The last column "EarliestDate" stands for (literally) the earliest release date of other version(s) of the album in question, if it has any, while the value "NA" indicates the album doesn't have any version earlier than the one shown here. The info is useful when you want to skip re-release albums.
</br>The column "BandPage" only shows links of the first band in case of a split or compilation.
</br><a href="https://www.metal-archives.com/images/cat.jpg">Cat picture</a> will be shown if the album doesn't have any cover(!?).
</br>The page is RAM-eating while loading the big bunch of covers. Good luck!</p> 
<ul class="filterSection" style="margin-top:24px;">
<li>
<strong style="font-size:18px;">Filters:&nbsp;</strong>
<label class="checkcontainer">Today onwards
<input class="filter" id="Upcoming" type="checkbox"> 
<span class="checkmark"></span></label>
<label class="checkcontainer">No Reissue
<input class="filter" id="Reissue" type="checkbox"> 
<span class="checkmark"></span></label>
<label class="checkcontainer">Full-length only
<input class="filter" id="Fulllength" type="checkbox"> 
<span class="checkmark"></span></label>
<label class="checkcontainer">Black/death metal only
<input  class="filter" id="Blackdeath" type="checkbox"> 
<span class="checkmark"></span></label>
</li>
</ul>
<p></p>

<div id="includedContent"></div>
  
<style>
:root{font-family:Helvetica, Arial, sans-serif;line-height: 1.5;background-color: #333;color:#fcfaf1;width:100%}
.new {border: 1px rgba(0,0,0,0);}
#header{background-color: #333;padding: 16px 40px 16px 40px;text-align: center;font-size: 40px;font-weight: bold;position: fixed;position: sticky;top: 0; transition: 0.3s;z-index: 999}
a{color: #fcfaf1}
#about{color: #fcfaf1}
#about{text-shadow: 0 0 30px rgba(230, 194, 184, 0.01), 0 0 40px rgba(230, 194, 184, 0.01);padding:4px;width:fit-content}
#about:hover{text-shadow: 0 0 10px rgba(222, 222, 222, 0.8)}
.showItem{display: "";}
.hideItem{display: none;}
.glow{color: #fffefd;animation: glow 2.5s ease-in-out infinite alternate}
@-webkit-keyframes glow{from{text-shadow: 0 0 10px rgba(230, 194, 184, 0.2), 0 0 20px rgba(230, 194, 184, 0.1) 0 0 30px rgba(230, 194, 184, 0.01), 0 0 40px rgba(230, 194, 184, 0.01), 0 0 50px rgba(230, 194, 184, 0.01), 0 0 60px rgba(230, 194, 184, 0.01)}
to{text-shadow: 0 0 20px rgba(192, 162, 153, 0.5), 0 0 30px rgba(192, 162, 153, 0.1), 0 0 40px rgba(192, 162, 153, 0.05), 0 0 50px rgba(192, 162, 153, 0.02), 0 0 60px rgba(192, 162, 153, 0.01), 0 0 70px rgba(192, 162, 153, 0.01)}
}
.checkcontainer{position: relative;padding-left: 28px;cursor: pointer;font-size: 15px;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none}
.checkcontainer input{position: absolute;opacity: 0;cursor: pointer;height: 0;width: 0}
.checkcontainer input:checked~.checkmark:after{display: block}
.checkcontainer .checkmark:after{left: 4px;top: 3.5px;width: 4px;height: 4px;border: solid white;border-width: 0 3px 3px 0;-webkit-transform: rotate(45deg);-ms-transform: rotate(45deg);transform: rotate(45deg)}
.checkmark{position: absolute;left: 6px;top:0.5px;border-radius: 100px;height: 15px;width: 15px;background-color: #aaa}
.checkcontainer:hover input~.checkmark{background-color: #999}
.checkcontainer input:checked~.checkmark{background-color: #777}
.checkmark:after{content: "";position: absolute;display: none}
.paginate_button{box-sizing: border-box;display: inline-block;min-width: 1.5em;padding: .5em 1em;margin-left: 2px;text-align: center;text-decoration: none !important;cursor: pointer;border: 1px rgba(111,111,111,0.3) solid;border-radius: 2px;color: #999;background-color: 666}
.paginate_button.current{background-color: #666;color: #edc;border: 1px solid #999}
.paginate_button.disabled{color: #666 !important;border: 1px solid transparent;background: transparent;box-shadow: none}
.dataTables_filter label input{display:inline-block;background-color: #222;color:#fff;width: 100%;font-size: 16px;padding: 12px 24px;border: 1px solid #666;margin-bottom: 12px;position: fixed;position: sticky;top: 80px;transition: 0.2s;z-index: 666}
.dataTables_filter label input::-webkit-input-placeholder {color: #fed;}
.dataTables_info {text-align: end;padding: 20px 0;}
.dataTables_length{right: 10px;position: absolute;margin-top: -42px}
.dataTables_length select{background: #555;color: #fed}
table.dataTable thead .sorting,table.dataTable thead .sorting_asc,table.dataTable thead .sorting_desc,table.dataTable thead .sorting_asc_disabled,table.dataTable thead .sorting_desc_disabled{cursor:pointer;position:relative}table.dataTable thead .sorting:before,table.dataTable thead .sorting:after,table.dataTable thead .sorting_asc:before,table.dataTable thead .sorting_asc:after,table.dataTable thead .sorting_desc:before,table.dataTable thead .sorting_desc:after,table.dataTable thead .sorting_asc_disabled:before,table.dataTable thead .sorting_asc_disabled:after,table.dataTable thead .sorting_desc_disabled:before,table.dataTable thead .sorting_desc_disabled:after{position:absolute;bottom:1.2em;display:block;opacity:.3}table.dataTable thead .sorting:before,table.dataTable thead .sorting_asc:before,table.dataTable thead .sorting_desc:before,table.dataTable thead .sorting_asc_disabled:before,table.dataTable thead .sorting_desc_disabled:before{right:1em;content:"↑"}table.dataTable thead .sorting:after,table.dataTable thead .sorting_asc:after,table.dataTable thead .sorting_desc:after,table.dataTable thead .sorting_asc_disabled:after,table.dataTable thead .sorting_desc_disabled:after{right:.5em;content:"↓"}table.dataTable thead .sorting_asc:before,table.dataTable thead .sorting_desc:after{opacity:1}table.dataTable thead .sorting_asc_disabled:before,table.dataTable thead .sorting_desc_disabled:after{opacity:0}
table{width: 100%;border: 2px solid #666;background-color: #333;font-size: 13px;table-layout: auto}
#tableHTML_column_2 { justify-items: center;display: grid;}
.release_info th:nth-child(1){color: rgba(0,0,0,0)} 
.release_info th, .release_info td{text-align: left;padding: 12px 2px 12px 2px;border-top: 1px solid #666}
.release_info tr{border-bottom: 0px solid #666}
.release_info tr.header, .release_info tr:hover{background-color: #444;background-color: rgba(99, 99, 99, 0.6)}
.dbtn{background-color: rgba(0,0,0,0);background-image: url('searchicon.png');background-position: 5px 5px;background-repeat: no-repeat;color: white;padding: 16px;font-size: 16px;border: none}
.dd{position: relative;display: inline-block}
.dd-c{display: none;position: absolute;background-color: #444;min-width: 160px;box-shadow: 0px 8px 16px 0px rgba(222,222,222,0.2);z-index: 1}
.dd-c a{color: #ffe;padding: 6px 8px;text-decoration: none;display: block}
.dd-c a:hover{background-color: #666}
.dd:hover .dd-c{display: block}
@media(max-width: 800px)  {
#tableHTML_column_3:before { content: "Title:"; font-weight: bold;}
#tableHTML_column_4:before { content: "Band:"; font-weight: bold;}
#tableHTML_column_5:before { content: "Band page:"; font-weight: bold;}
#tableHTML_column_6:before { content: "Genre:"; font-weight: bold;}
#tableHTML_column_7:before { content: "Type:"; font-weight: bold;}
#tableHTML_column_8:before { content: "Duration:"; font-weight: bold;}
#tableHTML_column_9:before { content: "Label:"; font-weight: bold;}
#tableHTML_column_10:before { content: "Release date:"; font-weight: bold;}
#tableHTML_column_11:before { content: "Earliest date:"; font-weight: bold;}
}
</style>
</body> 
</html>
